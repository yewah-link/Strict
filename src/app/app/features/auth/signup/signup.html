<div class="d-flex flex-column min-vh-100">

  <form #signupForm="ngForm" (ngSubmit)="onSignup()" class="container my-5" style="max-width: 500px; border: 1px solid #dee2e6; padding: 30px; border-radius: 8px;">
    <h2 class="text-center mb-4">Sign Up</h2>

    <!-- Success Message -->
    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>

    <!-- Role Selection -->
    <div class="mb-3">
      <label for="role" class="form-label">Register as</label>
      <select
        class="form-select"
        id="role"
        name="role"
        [(ngModel)]="registerData.role"
        required
      >
        <option [value]="RoleType.STUDENT">Student</option>
        <option [value]="RoleType.EXAMINER">Examiner</option>
      </select>
    </div>

    <!-- Full Name -->
    <div class="mb-3">
      <label for="fullName" class="form-label">Full Name</label>
      <input
        type="text"
        class="form-control"
        id="fullName"
        name="fullName"
        [(ngModel)]="registerData.fullName"
        required
        placeholder="Enter your full name"
      >
    </div>

    <!-- Username -->
    <div class="mb-3">
      <label for="username" class="form-label">Username</label>
      <input
        type="text"
        class="form-control"
        id="username"
        name="username"
        [(ngModel)]="registerData.username"
        required
        placeholder="Choose a username"
      >
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input
        type="email"
        class="form-control"
        id="email"
        name="email"
        [(ngModel)]="registerData.email"
        required
        email
        placeholder="Enter your email"
      >
    </div>

    <!-- Registration Number (Only for Students) -->
    <div class="mb-3" *ngIf="isStudent()">
      <label for="regNo" class="form-label">Registration Number</label>
      <input
        type="text"
        class="form-control"
        id="regNo"
        name="regNo"
        [(ngModel)]="registerData.regNo"
        [required]="isStudent()"
        placeholder="Enter your registration number"
      >
    </div>

    <!-- Password -->
    <div class="mb-3">
      <label for="password" class="form-label">Password</label>
      <input
        [type]="showPassword ? 'text' : 'password'"
        class="form-control"
        id="password"
        name="password"
        [(ngModel)]="registerData.password"
        required
        minlength="6"
        placeholder="Create a password"
      >
    </div>

    <!-- Confirm Password -->
    <div class="mb-3">
      <label for="confirmPassword" class="form-label">Confirm Password</label>
      <input
        [type]="showPassword ? 'text' : 'password'"
        class="form-control"
        id="confirmPassword"
        name="confirmPassword"
        [(ngModel)]="confirmPassword"
        required
        minlength="6"
        placeholder="Confirm your password"
        [class.is-invalid]="confirmPassword && !passwordsMatch()"
        [class.is-valid]="confirmPassword && passwordsMatch()"
      >
      <div *ngIf="confirmPassword && !passwordsMatch()" class="text-danger small mt-1">
        Passwords do not match
      </div>
    </div>

    <!-- Show Password Toggle -->
    <div class="mb-3 form-check">
      <input
        class="form-check-input"
        type="checkbox"
        id="showPasswordCheck"
        [(ngModel)]="showPassword"
        name="showPasswordCheck"
      >
      <label class="form-check-label" for="showPasswordCheck">
        Show Password
      </label>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      class="btn btn-primary w-100"
      [disabled]="isLoading || !signupForm.valid || !passwordsMatch()"
    >
      <span *ngIf="isLoading">Registering...</span>
      <span *ngIf="!isLoading">Sign Up</span>
    </button>

    <!-- Login Link -->
    <p class="text-center mt-3">
      Already have an account?
      <a routerLink="/login">Login here</a>
    </p>
  </form>

</div>
